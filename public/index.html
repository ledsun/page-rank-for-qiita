<html>

<head>
  {{#if googleAnalitycsTrackingID}}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{googleAnalitycsTrackingID}}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', '{{googleAnalitycsTrackingID}}');
  </script>
  {{/if}}
  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <title>panq</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/froala-design-blocks/1.0.2/css/froala_blocks.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
  <link rel="stylesheet" href="index.css">
  <script type="text/javascript">
    {{#if pageRanks}}
    function pageRanks() {
      return [{{#each pageRanks}}
        { url: "{{url}}", title: "{{title}}", count: {{count}}, content_length: {{content_length}}, tags: [{{#each tags}}"{{this}}",{{/each}}], updated_at: "{{updated_at}}" },
      {{/each}}]
    }
    {{/if}}
  </script>
</head>

<body>
  <div class="main">
    <section class="fdb-block" data-block-type="contents" data-id="6">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center">
            <h2><a href="/">Page rANk on Qiita</a></h2>
          </div>

          <div class="col-12 text-center">
            <p>Qiitaからストック情報を探す検索エンジン</p>
          </div>
        </div>

        <div class="row justify-content-center">
          <div class="col-12 col-md-8 col-lg-6 text-center">
            <form class="form" action="/" method="get">
              <div class="input-group mt-4 mb-4">
                <input type="text" class="form-control" name="tag" placeholder="タグ名">
                <span class="input-group-btn">
                    <button class="btn">検索開始</button>
                  </span>
              </div>
            </form>
            <div class="col-12">
              <h3>次のタグで検索</h3>
            </div>
            {{#each recentTags}}<a class="query-history" href="/?tag={{encoded}}">{{tag}}({{count}})</a> {{/each}}
          </div>
        </div>
      </div>
    </section>

    <section class="fdb-block fp-active" data-block-type="features" data-id="10">
      <div id="app" class="container">
        <div class="row text-center">
          <div class="col-12">
            <h3><span class="search-condition"></span>で<span class="number-of-results">\{{results.size}}</span>件（<span class="items mr-1">0</span>件中）を検索<span class="status">中</span> </h3>
          </div>
        </div>
        <div class="row text-left justify-content-center">
          <ol class="resut-list">
            <li v-for="result in resultList" :key="result.url">
              <div class="col-12">
                <a :href="result.url" class="results__item-link" target="_blank">\{{result.title}}</a>
                <span class="badge badge-pill badge-light">\{{result.ratio}}</span>
                <ul class="results__tag-list">
                  <li v-for="tag in result.tags"><a :href="'/?tag=' + tag.encoded" class="badge badge-secondary mr-1">\{{tag.text}}</a></li>
                </ul>
              </div>
            </li>
          </ol>
        </div>
      </div>
    </section>
    <section class="fdb-block" data-block-type="contents" data-id="6">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center">
            <h2>About</h2>
          </div>

          <div class="col-12 col-md-8 col-lg-6 text-center text-center">
            <p>ストック情報とは？技術情報にはフロー情報とストック情報があります。フロー情報は最新の話題の情報です。ストック情報は古くても信頼できる情報です。 現在のQiitaの検索機能はフロー情報に特化しています。 ストック情報はどうすれば探せるでしょうか？ 学術論文の世界では「被引用数」を使って論文を評価する文化があります。</p>
            <p>同様の発想で、Qiitaから被参照数が1以上の記事を探す検索エンジンを作りました。
            </p>
            <p><a href="https://medium.com/@ledsun/page-rank-on-qiita-69cc4c5338e9" target="_blank">Read more...</a></p>
          </div>
        </div>
      </div>
    </section>
  </div>
  <div class="preview">
    <iframe></iframe>
    <div class="preview__open-in-qiita">
      <a href="#">Qiita で開く</a>
    </div>
    <div class="preview__close">
      <a href="#">閉じる</a>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
  <script src="./index.js" charset="utf-8"></script>
</body>

</html>
